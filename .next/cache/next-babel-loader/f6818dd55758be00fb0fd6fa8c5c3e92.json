{"ast":null,"code":"import { loremIpsum } from 'lorem-ipsum';\nimport { name } from './Names';\n\nconst makeComment = () => ({\n  author: name(),\n  message: loremIpsum({\n    count: ~~(Math.random() * 3)\n  }),\n  time: new Date()\n});\n\nexport const makeComments = count => {\n  const comments = [];\n\n  for (let i = 0; i < count; i++) {\n    comments.push(makeComment());\n  }\n\n  return comments;\n};\nexport const createDupeComment = () => {\n  const comment = {\n    author: 'Fred Choe',\n    message: 'If a comment has a unique author and message it will not be considered a duplicate comment',\n    time: new Date()\n  };\n  return comment;\n};\nvar keepGoing = true;\nexport const stopFollow = () => {\n  keepGoing = false;\n};\nexport const startFollow = () => {\n  keepGoing = true;\n};\nexport const subscribe = callback => {\n  console.log('subscribing');\n\n  const produce = () => {\n    if (!keepGoing) {\n      console.log('stopped inside produce');\n      return;\n    }\n\n    callback(makeComment());\n    const interval = Math.random() * 5000 + 2000;\n    console.log('next comment in:', interval);\n    setTimeout(produce, interval);\n  };\n\n  setTimeout(produce, 3000);\n};","map":{"version":3,"sources":["/Users/frederickchoe/Projects/React/web-kokanee-fred-choe/models/Comment.ts"],"names":["loremIpsum","name","makeComment","author","message","count","Math","random","time","Date","makeComments","comments","i","push","createDupeComment","comment","keepGoing","stopFollow","startFollow","subscribe","callback","console","log","produce","interval","setTimeout"],"mappings":"AAAA,SAASA,UAAT,QAA2B,aAA3B;AACA,SAASC,IAAT,QAAqB,SAArB;;AAQA,MAAMC,WAAW,GAAG,OAAgB;AAClCC,EAAAA,MAAM,EAAEF,IAAI,EADsB;AAElCG,EAAAA,OAAO,EAAEJ,UAAU,CAAC;AAAEK,IAAAA,KAAK,EAAE,CAAC,EAAEC,IAAI,CAACC,MAAL,KAAgB,CAAlB;AAAV,GAAD,CAFe;AAGlCC,EAAAA,IAAI,EAAE,IAAIC,IAAJ;AAH4B,CAAhB,CAApB;;AAMA,OAAO,MAAMC,YAAY,GAAIL,KAAD,IAAmB;AAC7C,QAAMM,QAAQ,GAAG,EAAjB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAApB,EAA2BO,CAAC,EAA5B,EAAgC;AAC9BD,IAAAA,QAAQ,CAACE,IAAT,CAAcX,WAAW,EAAzB;AACD;;AAED,SAAOS,QAAP;AACD,CARM;AAUP,OAAO,MAAMG,iBAAiB,GAAG,MAAe;AAC9C,QAAMC,OAAO,GAAG;AACdZ,IAAAA,MAAM,EAAE,WADM;AAEdC,IAAAA,OAAO,EAAE,4FAFK;AAGdI,IAAAA,IAAI,EAAE,IAAIC,IAAJ;AAHQ,GAAhB;AAMA,SAAOM,OAAP;AACD,CARM;AAUP,IAAIC,SAAS,GAAG,IAAhB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9BD,EAAAA,SAAS,GAAG,KAAZ;AACD,CAFM;AAIP,OAAO,MAAME,WAAW,GAAG,MAAM;AAC/BF,EAAAA,SAAS,GAAG,IAAZ;AACD,CAFM;AAIP,OAAO,MAAMG,SAAS,GAAIC,QAAD,IAA0C;AAC/DC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;;AAEA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAG,CAACP,SAAJ,EAAe;AACbK,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA;AACD;;AAEDF,IAAAA,QAAQ,CAAClB,WAAW,EAAZ,CAAR;AACA,UAAMsB,QAAQ,GAAGlB,IAAI,CAACC,MAAL,KAAgB,IAAhB,GAAuB,IAAxC;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,QAAhC;AACAC,IAAAA,UAAU,CAACF,OAAD,EAAUC,QAAV,CAAV;AACD,GAVD;;AAYAC,EAAAA,UAAU,CAACF,OAAD,EAAU,IAAV,CAAV;AACH,CAhBM","sourcesContent":["import { loremIpsum } from 'lorem-ipsum'\nimport { name } from './Names'\n\nexport interface Comment {\n  author: string\n  message: string\n  time: Date\n}\n\nconst makeComment = (): Comment => ({\n  author: name(),\n  message: loremIpsum({ count: ~~(Math.random() * 3) }),\n  time: new Date()\n})\n\nexport const makeComments = (count: number) => {\n  const comments = []\n\n  for (let i = 0; i < count; i++) {\n    comments.push(makeComment())\n  }\n\n  return comments\n}\n\nexport const createDupeComment = (): Comment => {\n  const comment = {\n    author: 'Fred Choe',\n    message: 'If a comment has a unique author and message it will not be considered a duplicate comment',\n    time: new Date()\n  }\n\n  return comment\n}\n\nvar keepGoing = true\n\nexport const stopFollow = () => {\n  keepGoing = false\n}\n\nexport const startFollow = () => {\n  keepGoing = true\n}\n\nexport const subscribe = (callback: (comment: Comment) => void) => {\n    console.log('subscribing')\n\n    const produce = () => {\n      if(!keepGoing) {\n        console.log('stopped inside produce')\n        return\n      }\n\n      callback(makeComment())\n      const interval = Math.random() * 5000 + 2000\n      console.log('next comment in:', interval)\n      setTimeout(produce, interval)\n    }\n\n    setTimeout(produce, 3000)\n}\n"]},"metadata":{},"sourceType":"module"}