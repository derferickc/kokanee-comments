{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/frederickchoe/Projects/React/web-kokanee-fred-choe/components/CommentListClass.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { subscribe, stopFollow, startFollow, createDupeComment } from '../models/Comment';\nimport Comment from \"./Comment\";\nimport { FixedSizeList as List } from 'react-window';\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nvar CommentList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommentList, _Component);\n\n  function CommentList(props) {\n    var _this;\n\n    _classCallCheck(this, CommentList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CommentList).call(this, props));\n    _this.state = {\n      comments: [],\n      follow: true,\n      users: [{\n        firstName: 'fred',\n        lastName: 'choe'\n      }, {\n        firstName: 'grace',\n        lastName: 'kim'\n      }, {\n        firstName: 'fred',\n        lastName: 'choe'\n      }, {\n        firstName: 'grace',\n        lastName: 'kim'\n      }, {\n        firstName: 'fred',\n        lastName: 'choe'\n      }, {\n        firstName: 'grace',\n        lastName: 'kim'\n      }, {\n        firstName: 'fred',\n        lastName: 'choe'\n      }, {\n        firstName: 'grace',\n        lastName: 'kim'\n      }, {\n        firstName: 'fred',\n        lastName: 'choe'\n      }, {\n        firstName: 'grace',\n        lastName: 'kim'\n      }]\n    };\n    _this.handleFollow = _this.handleFollow.bind(_assertThisInitialized(_this));\n    _this.addCustomComment = _this.addCustomComment.bind(_assertThisInitialized(_this));\n    _this.handleDupeCheck = _this.handleDupeCheck.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CommentList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        comments: this.props.initialComments\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      subscribe(function (comment) {\n        var dupeCheck = _this2.handleDupeCheck(comment);\n\n        if (dupeCheck === -1) {\n          _this2.setState({\n            comments: [].concat(_toConsumableArray(_this2.state.comments), [comment])\n          });\n        }\n\n        console.log('received comment: ', comment);\n      });\n    }\n  }, {\n    key: \"handleFollow\",\n    value: function handleFollow() {\n      if (this.state.follow) {\n        stopFollow();\n      } else {\n        startFollow();\n      }\n\n      this.setState({\n        follow: !this.state.follow\n      });\n    }\n  }, {\n    key: \"addCustomComment\",\n    value: function addCustomComment() {\n      var comment = createDupeComment();\n      var dupeCheck = this.handleDupeCheck(comment);\n\n      if (dupeCheck === -1) {\n        this.setState({\n          comments: [].concat(_toConsumableArray(this.state.comments), [comment])\n        });\n      }\n    }\n  }, {\n    key: \"handleDupeCheck\",\n    value: function handleDupeCheck(val) {\n      var indexOfComment = this.state.comments.findIndex(function (comment) {\n        return comment.author === val.author && comment.message === val.message;\n      });\n      return indexOfComment;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          comments = _this$state.comments,\n          follow = _this$state.follow;\n\n      var Row = function Row(_ref) {\n        var index = _ref.index,\n            style = _ref.style;\n        return __jsx(\"div\", {\n          className: index,\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Row \", index);\n      };\n\n      return __jsx(\"div\", {\n        className: \"comment-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        onClick: this.handleFollow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, follow == true ? \"Unfollow\" : \"Follow\")), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        onClick: this.addCustomComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Add Custom Comment\")), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Comments array length: \", comments.length), __jsx(AutoSizer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, function (_ref2) {\n        var height = _ref2.height,\n            width = _ref2.width;\n        return __jsx(List, {\n          height: 400,\n          width: width,\n          itemCount: _this3.state.comments.length,\n          itemSize: 50,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, Row);\n      }));\n    }\n  }]);\n\n  return CommentList;\n}(Component);\n\nexport default CommentList;","map":{"version":3,"sources":["/Users/frederickchoe/Projects/React/web-kokanee-fred-choe/components/CommentListClass.js"],"names":["React","Component","subscribe","stopFollow","startFollow","createDupeComment","Comment","FixedSizeList","List","AutoSizer","CommentList","props","state","comments","follow","users","firstName","lastName","handleFollow","bind","addCustomComment","handleDupeCheck","setState","initialComments","comment","dupeCheck","console","log","val","indexOfComment","findIndex","author","message","Row","index","style","length","height","width"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,WAAhC,EAA6CC,iBAA7C,QAAsE,mBAAtE;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,aAAa,IAAIC,IAA1B,QAAsC,cAAtC;AACA,OAAOC,SAAP,MAAsB,8BAAtB;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,MAAM,EAAE,IAFG;AAGXC,MAAAA,KAAK,EAAE,CACL;AACEC,QAAAA,SAAS,EAAE,MADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OADK,EAKL;AACED,QAAAA,SAAS,EAAE,OADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OALK,EASL;AACED,QAAAA,SAAS,EAAE,MADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OATK,EAaL;AACED,QAAAA,SAAS,EAAE,OADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OAbK,EAiBL;AACED,QAAAA,SAAS,EAAE,MADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OAjBK,EAqBL;AACED,QAAAA,SAAS,EAAE,OADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OArBK,EAyBL;AACED,QAAAA,SAAS,EAAE,MADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OAzBK,EA6BL;AACED,QAAAA,SAAS,EAAE,OADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OA7BK,EAiCL;AACED,QAAAA,SAAS,EAAE,MADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OAjCK,EAqCL;AACED,QAAAA,SAAS,EAAE,OADb;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OArCK;AAHI,KAAb;AA+CA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB;AACA,UAAKE,eAAL,GAAuB,MAAKA,eAAL,CAAqBF,IAArB,+BAAvB;AApDiB;AAqDlB;;;;wCAEmB;AAClB,WAAKG,QAAL,CAAc;AACZT,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWY;AADT,OAAd;AAGD;;;yCAEoB;AAAA;;AACnBrB,MAAAA,SAAS,CAAC,UAAAsB,OAAO,EAAI;AACnB,YAAMC,SAAS,GAAG,MAAI,CAACJ,eAAL,CAAqBG,OAArB,CAAlB;;AACA,YAAGC,SAAS,KAAK,CAAC,CAAlB,EAAqB;AACnB,UAAA,MAAI,CAACH,QAAL,CAAc;AACZT,YAAAA,QAAQ,+BAAM,MAAI,CAACD,KAAL,CAAWC,QAAjB,IAA2BW,OAA3B;AADI,WAAd;AAGD;;AACDE,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCH,OAAlC;AACD,OARQ,CAAT;AASD;;;mCAEc;AACb,UAAG,KAAKZ,KAAL,CAAWE,MAAd,EAAsB;AACpBX,QAAAA,UAAU;AACX,OAFD,MAEO;AACLC,QAAAA,WAAW;AACZ;;AAED,WAAKkB,QAAL,CAAc;AACZR,QAAAA,MAAM,EAAE,CAAC,KAAKF,KAAL,CAAWE;AADR,OAAd;AAGD;;;uCAEkB;AACjB,UAAMU,OAAO,GAAGnB,iBAAiB,EAAjC;AACA,UAAMoB,SAAS,GAAG,KAAKJ,eAAL,CAAqBG,OAArB,CAAlB;;AAEA,UAAGC,SAAS,KAAK,CAAC,CAAlB,EAAqB;AACnB,aAAKH,QAAL,CAAc;AACZT,UAAAA,QAAQ,+BAAM,KAAKD,KAAL,CAAWC,QAAjB,IAA2BW,OAA3B;AADI,SAAd;AAGD;AACF;;;oCAEeI,G,EAAK;AACnB,UAAMC,cAAc,GAAG,KAAKjB,KAAL,CAAWC,QAAX,CAAoBiB,SAApB,CAA8B,UAACN,OAAD;AAAA,eAAcA,OAAO,CAACO,MAAR,KAAmBH,GAAG,CAACG,MAAxB,IAAoCP,OAAO,CAACQ,OAAR,KAAoBJ,GAAG,CAACI,OAAzE;AAAA,OAA9B,CAAvB;AAEA,aAAOH,cAAP;AACD;;;6BAEQ;AAAA;;AAAA,wBACsB,KAAKjB,KAD3B;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,MADX,eACWA,MADX;;AAEP,UAAMmB,GAAG,GAAG,SAANA,GAAM;AAAA,YAAGC,KAAH,QAAGA,KAAH;AAAA,YAAUC,KAAV,QAAUA,KAAV;AAAA,eACV;AAAK,UAAA,SAAS,EAAED,KAAhB;AAAuB,UAAA,KAAK,EAAEC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOD,KADP,CADU;AAAA,OAAZ;;AAMA,aACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKhB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGJ,MAAM,IAAI,IAAV,wBADH,CADF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKM,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,CATF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAC0BP,QAAQ,CAACuB,MADnC,CAbF,EAiBE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGG;AAAA,YAAGC,MAAH,SAAGA,MAAH;AAAA,YAAWC,KAAX,SAAWA,KAAX;AAAA,eACC,MAAC,IAAD;AACE,UAAA,MAAM,EAAE,GADV;AAEE,UAAA,KAAK,EAAEA,KAFT;AAGE,UAAA,SAAS,EAAE,MAAI,CAAC1B,KAAL,CAAWC,QAAX,CAAoBuB,MAHjC;AAIE,UAAA,QAAQ,EAAE,EAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMGH,GANH,CADD;AAAA,OAHH,CAjBF,CADF;AAyCD;;;;EAxJuBhC,S;;AA2J1B,eAAeS,WAAf","sourcesContent":["import React, { Component } from \"react\"\nimport { subscribe, stopFollow, startFollow, createDupeComment } from '../models/Comment'\nimport Comment from \"./Comment\"\nimport { FixedSizeList as List } from 'react-window';\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nclass CommentList extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      comments: [],\n      follow: true,\n      users: [\n        {\n          firstName: 'fred',\n          lastName: 'choe'\n        },\n        {\n          firstName: 'grace',\n          lastName: 'kim'\n        },\n        {\n          firstName: 'fred',\n          lastName: 'choe'\n        },\n        {\n          firstName: 'grace',\n          lastName: 'kim'\n        },\n        {\n          firstName: 'fred',\n          lastName: 'choe'\n        },\n        {\n          firstName: 'grace',\n          lastName: 'kim'\n        },\n        {\n          firstName: 'fred',\n          lastName: 'choe'\n        },\n        {\n          firstName: 'grace',\n          lastName: 'kim'\n        },\n        {\n          firstName: 'fred',\n          lastName: 'choe'\n        },\n        {\n          firstName: 'grace',\n          lastName: 'kim'\n        },\n      ]\n    }\n\n    this.handleFollow = this.handleFollow.bind(this)\n    this.addCustomComment = this.addCustomComment.bind(this)\n    this.handleDupeCheck = this.handleDupeCheck.bind(this)\n  }\n\n  componentDidMount() {\n    this.setState({\n      comments: this.props.initialComments\n    })\n  }\n\n  componentDidUpdate() {\n    subscribe(comment => {\n      const dupeCheck = this.handleDupeCheck(comment)\n      if(dupeCheck === -1) {\n        this.setState({\n          comments: [...this.state.comments, comment]\n        })\n      }\n      console.log('received comment: ', comment)\n    })\n  }\n\n  handleFollow() {\n    if(this.state.follow) {\n      stopFollow()\n    } else {\n      startFollow()\n    }\n\n    this.setState({\n      follow: !this.state.follow\n    })\n  }\n\n  addCustomComment() {\n    const comment = createDupeComment()\n    const dupeCheck = this.handleDupeCheck(comment)\n\n    if(dupeCheck === -1) {\n      this.setState({\n        comments: [...this.state.comments, comment]\n      })\n    }\n  }\n\n  handleDupeCheck(val) {\n    const indexOfComment = this.state.comments.findIndex((comment) => (comment.author === val.author) && (comment.message === val.message))\n\n    return indexOfComment\n  }\n\n  render() {\n    const { comments, follow } = this.state\n    const Row = ({ index, style }) => (\n      <div className={index} style={style}>\n        Row {index}\n      </div>\n    )\n\n    return (\n      <div className='comment-wrapper'>\n        <div>\n          <button onClick={this.handleFollow}>\n            {follow == true\n              ? `Unfollow`\n              : `Follow`}\n          </button>\n        </div>\n\n        <div>\n          <button onClick={this.addCustomComment}>Add Custom Comment</button>\n        </div>\n\n        <div>\n          Comments array length: {comments.length}\n        </div>\n\n        <AutoSizer>\n\n\n          {({ height, width }) => (\n            <List\n              height={400}\n              width={width}\n              itemCount={this.state.comments.length}\n              itemSize={50}\n            >\n              {Row}\n            </List>\n          )}\n        </AutoSizer>\n\n      {/*\n      {comments.map((comment, index) => (\n        <Comment comment={comment} key={index}/>\n      ))}\n      */}\n\n      </div>\n    )\n  }\n}\n \nexport default CommentList"]},"metadata":{},"sourceType":"module"}